---
layout: post
title:  "边边角角的知识点"
date:   2016-02-24 10:41:00 ＋8000
categories: Pieces
---


## 1\. setuid权限

今天调了一下Iterm2中`ls`的配色，发现在`\bin`目录下有如图的显示效果：

![setuid]({{site.baseurl}}/pics/setuid_1.png)

ps和rcp的执行文件颜色和其它不同，从`ls -lha`的结果来看它们两个与其它文件并没有什么不同，于是我再用`file`命令查看文件：

![setuid_2]({{site.baseurl}}/pics/setuid_2.png)

此时发现ps和rcp的前面多了个`setuid`的参数，该参数是Linux的三个特殊权限之一，其作用是让执行该命令的用户拥有所有者的权限。除了`setuid`外还有`setgid`和`stick bit`。

## 2\. 执行权限

![execute]({{site.baseurl}}/pics/execute.png)

如上图所示，作为execute.sh的owner，我拥有`rw`读写权限，但如果想通过`./execute.sh`直接执行，却被告知权限不够，而用`sh execute.sh`却能够执行。后者实际上是将脚本交由`/bin/sh`执行，仅仅需要读权限即可。那么如果我只有`execute.sh`的`x`执行权限，是否能够直接执行了？

![execute_x]({{site.baseurl}}/pics/execute_x.png)

如图所示，仅仅拥有执行权限或仅拥有读权限，都不能直接执行`execute.sh`，只有当两种权限同时具备时才可。我的理解是，执行权限控制文件是否可直接执行，而由于该文件亦需要`\bin\sh`程序去读取并解释执行，所以同时亦需要读权限。